(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabcomponts/fujin"],{"27ae":function(t,a,i){},"280d":function(t,a,i){"use strict";i.r(a);var n=i("5269"),e=i("2b5e");for(var s in e)"default"!==s&&function(t){i.d(a,t,function(){return e[t]})}(s);i("49d6");var o=i("2877"),l=Object(o["a"])(e["default"],n["a"],n["b"],!1,null,null,null);a["default"]=l.exports},"2b5e":function(t,a,i){"use strict";i.r(a);var n=i("59ed"),e=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(a,t,function(){return n[t]})}(s);a["default"]=e.a},"49d6":function(t,a,i){"use strict";var n=i("27ae"),e=i.n(n);e.a},5269:function(t,a,i){"use strict";var n=function(){var t=this,a=t.$createElement,i=(t._self._c,t.__map(t.lists.arrs,function(a,i){var n=a.price.toFixed(2);return{$orig:t.__get_orig(a),g0:n}}));t._isMounted||(t.e0=function(a){t.tabactive=1},t.e1=function(a){t.tabactive=2},t.e2=function(a){t.tabactive=3},t.e3=function(a){t.tabactive=4}),t.$mp.data=Object.assign({},{$root:{l0:i}})},e=[];i.d(a,"a",function(){return n}),i.d(a,"b",function(){return e})},"59ed":function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(i("5852")),e=i("90c6"),s=o(i("ef4f"));function o(t){return t&&t.__esModule?t:{default:t}}var l=function(){return i.e("pages/components/you-scroll").then(i.bind(null,"25b1"))},r={components:{youScroll:l},created:function(){var a=this;t.getSystemInfo({success:function(t){a.heights=t.windowHeight}});for(var i=0;i<e.areas.length;i++)this.areas[e.areas[i].id]=e.areas[i]},mounted:function(){var t=this;this.$store.state.token&&this.getMyloctions(function(){t.news()})},data:function(){return{heights:"100vh",location:{latitude:"",longitude:""},areas:{},tabactive:1,lists:{arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:"",name:""},nearShop:{arrs:[],Total:0,start:0,length:10,loadingText:"已全部加载完毕",times:0,loading:!1},dynamic:{arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1},wantList:{arrs:[],start:0,length:6,Total:0,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:"",name:""}}},methods:{wantNearto:function(){this.tabactive=2},toOffer:function(a){t.setStorage({key:"purOffer",data:JSON.stringify(a),success:function(){t.navigateTo({url:"../wantBuy/offer"})}})},toshops:function(a){t.navigateTo({url:"../shops/shop?id="+a})},onSuppliesDown:function(t){var a=this;this.lists={arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:"",name:""},this.getMyloctions(function(){a.onsuppliesData(function(){t()})})},onWantDown:function(t){var a=this;this.wantList={arrs:[],start:0,length:6,Total:0,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:"",name:""},this.getMyloctions(function(){a.onWantData(function(){t()})})},onNearShopDown:function(t){var a=this;this.nearShop={arrs:[],Total:0,start:0,length:10,loadingText:"已全部加载完毕",times:0,loading:!1},this.getMyloctions(function(){a.getNearShop(function(){t()})})},onDynamicDown:function(t){var a=this;this.dynamic={arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1},this.getMyloctions(function(){a.getDynamic(function(){t()})})},tosearchwantbuy:function(){t.navigateTo({url:"../index/search?type=wantData"})},tosearchsupplies:function(){t.navigateTo({url:"../index/search?type=suppliesData"})},getnewlist:function(t){this.lists={arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:t.id,name:t.name},this.onsuppliesData()},getnewwantbuy:function(t){this.wantList={arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:t.id,name:t.name},this.onWantData()},news:function(){this.lists={arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:"",name:""},this.dynamic={arrs:[],Total:0,start:0,length:6,loadingText:"已全部加载完毕",times:0,loading:!1},this.wantList={arrs:[],start:0,length:6,Total:0,loadingText:"已全部加载完毕",times:0,loading:!1,categoryId:"",name:""},this.nearShop={arrs:[],Total:0,start:0,length:10,loadingText:"已全部加载完毕",times:0,loading:!1},this.onsuppliesData(""),this.onWantData(""),this.getDynamic(""),this.getNearShop("")},showdynamicImg:function(a,i){t.previewImage({current:i,urls:a})},towantdetails:function(a){t.navigateTo({url:"../purchaseDetails/purchaseDetails?id="+a.id+"&userId="+a.userId})},swiperchange:function(t){this.tabactive=t.detail.current+1},getNearShop:function(t){var a=this;if(this.nearShop.loading)t&&t();else{if(this.nearShop.loading=!0,0!==this.nearShop.Total&&this.nearShop.Total==this.nearShop.arrs.length)return this.nearShop.loadingText="已全部加载完毕",void(t&&t());this.nearShop.loadingText="上拉加载更多",this.$myhttp.get(this.websiteUrl+"/shops?start="+this.nearShop.start+"&length="+this.nearShop.length+"&sort=distance&lat="+this.location.latitude+"&lon="+this.location.longitude,"",function(i){i=i.data.data;if(a.nearShop.Total=i.totalCount,i.items.length){var n=i.items;if(n.forEach(function(t){t.location?t.loc=a.getDynamiclocation(t.location.lat,t.location.lon):t.loc=""}),a.nearShop.start+=i.items.length,a.nearShop.arrs=a.nearShop.arrs.concat(n),0!==a.nearShop.Total&&a.nearShop.Total==a.nearShop.arrs.length)return a.nearShop.loadingText="已全部加载完毕",void(t&&t())}else a.nearShop.loadingText="已全部加载完毕";a.nearShop.times++,a.nearShop.loading=!1,t&&t()},this)}},getDynamic:function(t){var a=this;if(this.dynamic.loading)t&&t();else{if(this.dynamic.loading=!0,0!==this.dynamic.Total&&this.dynamic.Total==this.dynamic.arrs.length)return this.dynamic.loadingText="已全部加载完毕",void(t&&t());this.dynamic.loadingText="上拉加载更多",this.$myhttp.get(this.websiteUrl+"/news?start="+this.dynamic.start+"&length="+this.dynamic.length+"&sort=distance&lat="+this.location.latitude+"&lon="+this.location.longitude,"",function(i){i=i.data.data;if(a.dynamic.Total=i.totalCount,i.items.length){var n=i.items;if(n.forEach(function(t){t.loc=a.getDynamiclocation(t.location.lat,t.location.lon),t.time=a.times(t.createTime);var i=(0,s.default)(t.areaId);t.city=i.replace(/-/g,"")}),a.dynamic.start+=i.items.length,a.dynamic.arrs=a.dynamic.arrs.concat(n),0!==a.dynamic.Total&&a.dynamic.Total==a.dynamic.arrs.length)return a.dynamic.loadingText="已全部加载完毕",void(t&&t())}else a.dynamic.loadingText="已全部加载完毕";a.dynamic.times++,a.dynamic.loading=!1,t&&t()},this)}},getDynamiclocation:function(t,a){if(!this.location.latitude)return"";var i,n,e=t*Math.PI/180,s=a;n=this.location.longitude,i=this.location.latitude*Math.PI/180;var o=e-i,l=s*Math.PI/180-n*Math.PI/180,r=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(e)*Math.cos(i)*Math.pow(Math.sin(l/2),2)));return r*=6378.137,r=parseInt(Math.round(1e4*r)/10),(r/1e3).toFixed(2)+"km"},onsuppliesData:function(t){var a=this;if(this.lists.loading)t&&t();else{if(this.lists.loading=!0,0!==this.lists.Total&&this.lists.Total==this.lists.arrs.length)return this.lists.loadingText="已全部加载完毕",void(t&&t());this.lists.loadingText="上拉加载更多",this.$http.get(this.websiteUrl+"/supplies/search?start="+this.lists.start+"&length="+this.lists.length+"&areaId=&categoryId="+this.lists.categoryId+"&specifications=&sort=distance&lat="+this.location.latitude+"&lon="+this.location.longitude,"",function(i){i=i.data.data;if(a.lists.Total=i.totalCount,i.items.length){var n=i.items;if(n.forEach(function(t){t.details=a.$store.state.categories[t.categoryId],t.loc=a.getlocation(t.location.lat,t.location.lon),t.time=a.times(t.refreshTime);var i=(0,s.default)(t.areaId);t.city=i.replace(/-/g,"");for(var n=JSON.parse(t.specifications),e=n.length,o="",l=0;l<e;l++){var r="",c="";r=n[l].value instanceof Array?n[l].value[0]==n[l].value[1]?n[l].value[0]:n[l].value[0]+r+"-"+n[l].value[1]:n[l].value,n[l].unit&&(c=n[l].unit),o+=n[l].name+": "+r+c+";"}t.specificationsStr=o}),a.lists.start+=i.items.length,a.lists.arrs=a.lists.arrs.concat(n),0!==a.lists.Total&&a.lists.Total==a.lists.arrs.length)return a.lists.loadingText="已全部加载完毕",void(t&&t())}else a.lists.loadingText="已全部加载完毕";a.lists.times++,a.lists.loading=!1,t&&t()})}},onWantData:function(t){var a=this;if(this.wantList.loading)t&&t();else{if(this.wantList.loading=!0,0!==this.wantList.Total&&this.wantList.Total==this.wantList.arrs.length)return this.wantList.loadingText="已全部加载完毕",void(t&&t());this.wantList.loadingText="上拉加载更多",this.$http.get(this.websiteUrl+"/purchases/search?start="+this.wantList.start+"&length="+this.wantList.length+"&areaId=&categoryId="+this.wantList.categoryId+"&specifications=&sort=distance&lat="+this.location.latitude+"&lon="+this.location.longitude,"",function(i){i=i.data.data;if(a.wantList.Total=i.totalCount,i.items.length){var n=i.items;if(n.forEach(function(t){if(t.details=a.$store.state.categories[t.categoryId],t.loc=a.getlocation(t.location.lat,t.location.lon),t.time=a.times(t.createTime),t.acceptedAreas[0]){var i=(0,s.default)(t.acceptedAreas[0]);t.city=i.replace(/-/g,"")}else t.city="全国";for(var n=JSON.parse(t.specifications),e=n.length,o="",l=0;l<e;l++){var r="",c="";r=n[l].value instanceof Array?n[l].value[0]==n[l].value[1]?n[l].value[0]:n[l].value[0]+r+"-"+n[l].value[1]:n[l].value,n[l].unit&&(c=n[l].unit),o+=n[l].name+": "+r+c+";"}t.specificationsStr=o}),a.wantList.start+=i.items.length,a.wantList.arrs=a.wantList.arrs.concat(n),0!==a.wantList.Total&&a.wantList.Total==a.wantList.arrs.length)return a.wantList.loadingText="已全部加载完毕",void(t&&t())}else a.wantList.loadingText="已全部加载完毕";a.wantList.times++,a.wantList.loading=!1,t&&t()})}},times:function(t){var a="",i=new Date(t),e=i.getTime(),s=(new Date).getTime(),o=s-e,l=2592e6,r=864e5,c=36e5,h=6e4;if(o<r){if(o<c){for(var d=1;d<=60;d++)if(o<=d*h){a=d+"分钟前";break}}else for(d=2;d<=24;d++)if(o<d*c){a=d+"小时前";break}}else if(o<l){for(var u=2;u<=30;u++)if(o<u*r){a=u+"天前";break}}else a=(0,n.default)(i);return a},getMyloctions:function(a){var i=this;t.getLocation({type:"gcj02",success:function(t){i.location={longitude:t.longitude,latitude:t.latitude},a&&a()},fail:function(){a&&a()}})},getlocation:function(t,a){if(!this.location.latitude)return"";var i,n,e=t*Math.PI/180,s=a;n=this.location.longitude,i=this.location.latitude*Math.PI/180;var o=e-i,l=s*Math.PI/180-n*Math.PI/180,r=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(e)*Math.cos(i)*Math.pow(Math.sin(l/2),2)));return r*=6378.137,r=parseInt(Math.round(1e4*r)/10),(r/1e3).toFixed(2)+"公里"},todetails:function(a,i){var n=JSON.stringify(i);t.navigateTo({url:"../detailSupply/detailSupply?id="+a+"&info="+n})}}};a.default=r}).call(this,i("6e42")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/tabcomponts/fujin-create-component',
    {
        'pages/tabcomponts/fujin-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("280d"))
        })
    },
    [['pages/tabcomponts/fujin-create-component']]
]);                
